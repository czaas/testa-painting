function shuffle(e){for(var a,t,n=e.length;0!==n;)t=Math.floor(Math.random()*n),n--,a=e[n],e[n]=e[t],e[t]=a;return e}var testimonialsArray=[{name:"Vicky W.",link:"http://www.yelp.com/biz/testa-painting-pismo-beach?hrid=N2fXc-lUPlHsiEqY0dU5nw&page_src=shared_via_messages_or_emails",testimony:["A little over due...we live in the Bay Area and needed the condo our sons live in painted in early December. Tony provided a very fair estimate. We went down the day before the job started, met Tony the next morning and stayed in town through the completion.","Excellent work! Tony and his crew were neat, cleaned up after themselves and thorough with every aspect. We highly recommend Tony!"]},{name:"Meegan C.",link:"http://www.yelp.com/biz/testa-painting-pismo-beach?hrid=wf0Zd5zj8PD7-l9pxZc7_g&page_src=shared_via_messages_or_emails",testimony:["Tony and his crew are the best, simply amazing. Not only do they leave you with a beautiful home with a quality paint job, they are a pleasure to have around!  If you need to hire a painter, do yourself a favor and hire Tony Testa!"]},{name:"Linda O.",link:"http://www.yelp.com/biz/testa-painting-pismo-beach?hrid=r07EQfSRQhI_ZoWyv8GL6A&page_src=shared_via_messages_or_emails",testimony:["Tony and his crew showed up on time and did a great job.  No mess was left behind and no overpainting or scraping needed when they left.  They are very professional.  I would highly recommend them to anyone who needs a good painter with reasonable rates.  It doesn't get any better then Testa Painting.  Call Tony"]},{name:"Sara R.",link:"http://www.yelp.com/biz/testa-painting-pismo-beach?hrid=Xr4xk1kUqAm_3k1QVtCrdw&page_src=shared_via_messages_or_emails",testimony:["Tony and his crew were great -- reasonable, friendly, quick, clean and thorough. I'll be using them again, and would highly recommend Testa Painting for any interior or exterior job."]},{name:"Andrew G.",link:"http://www.yelp.com/biz/testa-painting-pismo-beach?hrid=9Arfe9P3neix_vXaeV9img&page_src=shared_via_messages_or_emails",testimony:["I found Testa Painting from a friend and so glad I did. I needed the interior of my house painted. Tony and his crew completed the job on time and professionally. Afterwards, they cleaned everything up perfectly and put everything back where it was supposed to go. To top it off the price was great. I would highly recommend Testa Painting."]},{name:"Evie K.",link:"http://www.yelp.com/biz/testa-painting-pismo-beach?hrid=Myd04lZq8HMxVnYnIojkQg&page_src=shared_via_messages_or_emails",testimony:["We are extremely happy with Tony and his paint crew. Last week we hired him to completely paint the interior of our new home, basically every surface including the ceiling. We felt his quote was reasonable and his crew was able to finish within 3 days. I felt they went beyond and took care of some trouble spots I was worried about, like holes in the drywall and they even painted some areas that I didn't think of. The whole house now has a fresh, clean feel and I'm so excited. I recommend calling Tony!"]}],app={};app.testimonials=testimonialsArray,app.buildTestimonial=function(e){function a(e,a){var t='<p><strong><a href="'+e+'" target="_blank">'+a+'<i class="fa fa-angle-right"></i></a></strong></p>';return t}function t(e){for(var a="",t=0;t<e.length;t++)a+="<p>"+e[t]+"</p>";return a}var n,i,o,r=e;return i=a(r.link,r.name),n=t(r.testimony),o='<div class="yelp">'+n+i+"</div>"},app.displayTestimonials=function(e,a){var t=e.slice(),n=a?t.length-a:t.length,i=0;shuffle(t);for(var o=t.length-1;o>=n;o--){var r=app.buildTestimonial(t[o]),s=t.indexOf(t[o]);$(r).insertBefore("#viewRemainingTestimonials"),t.splice(s,1),i++}return t.length>0?t:void 0},app.generateImages=function(){for(var e=40,a=15,t="/images/min/",n="",i="image-",o=[],r=1;a>r;r++){var s=Math.floor(Math.random()*e),l=t+i+s+".jpg",d='<li><img src="http://testapainting.com'+l+'" /></li>';-1===$.inArray(s,o)?(o.push(s),n+=d):r--}return n},$("#banner").append(app.generateImages()).bxSlider({mode:"fade",speed:350,pager:!1,auto:!0,autoStart:!0,autoHover:!0});var lastTestimonials=app.displayTestimonials(app.testimonials,3);$(document).ready(function(){$("#viewRemainingTestimonials").on("click",function(){app.displayTestimonials(lastTestimonials,3),$(this).remove()});var e=$("#contact-form");$(e).submit(function(a){a.preventDefault();var t=$("#form-messages"),n=$("#form-messages ul"),i=$(e).serialize(),o=!1,r=!1,s=!1;n.text(""),""===$("#contact-form #fname").val()?n.append("<li>Please enter your name.</li>"):o=!0,""===$("#contact-form #phone").val()&&""===$("#contact-form #email").val()?n.append("<li>Please enter a phone or email address to be reached at.</li>"):r=!0,""===$("#contact-form #message").val()?n.append("<li>Please leave a message.</li>"):s=!0,o&&r&&s&&$.ajax({type:"POST",url:"/mail.php",data:i}).done(function(e){t.addClass("success"),t.text(e),$("#formMessagesError").hide(),$("#contact-form").hide()}).fail(function(e){t.addClass("error"),console.error(e)})})});